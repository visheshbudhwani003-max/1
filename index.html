<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Rose Day, Siddhi! ðŸŒ¹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle at center, #3c0909, #1a0505, #000000);
            color: white;
            overflow: hidden;
            margin: 0;
            height: 100vh;
            touch-action: manipulation;
        }

        .handwritten { font-family: 'Dancing Script', cursive; }

        .section {
            display: none;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            height: 100vh;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            position: absolute;
            top: 0; left: 0; width: 100%;
        }

        .section.active {
            display: flex;
            opacity: 1;
            z-index: 10;
        }

        /* Improved Rose Visuals */
        .rose-wrapper {
            position: relative;
            width: 150px;
            height: 250px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .rose-flower {
            position: relative;
            width: 80px;
            height: 90px;
            z-index: 2;
        }

        .petal {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #ff2e2e, #8b0000);
            border-radius: 50% 50% 40% 40% / 60% 60% 40% 40%;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.4);
            transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: bottom center;
            opacity: 0.9;
        }

        /* Initial "Bud" State */
        .petal-1 { transform: scale(0.6, 0.9) rotate(0deg); z-index: 5; }
        .petal-2 { transform: scale(0.5, 0.8) rotate(10deg); z-index: 4; }
        .petal-3 { transform: scale(0.5, 0.8) rotate(-10deg); z-index: 4; }
        .petal-4 { transform: scale(0.4, 0.7) rotate(20deg); opacity: 0; z-index: 3; }
        .petal-5 { transform: scale(0.4, 0.7) rotate(-20deg); opacity: 0; z-index: 3; }

        /* Bloomed State */
        .bloomed .petal-1 { transform: scale(1.1) translateY(-10px); }
        .bloomed .petal-2 { transform: rotate(40deg) translateX(20px) scale(1); opacity: 1; }
        .bloomed .petal-3 { transform: rotate(-40deg) translateX(-20px) scale(1); opacity: 1; }
        .bloomed .petal-4 { transform: rotate(70deg) translateX(40px) translateY(10px) scale(0.9); opacity: 0.8; }
        .bloomed .petal-5 { transform: rotate(-70deg) translateX(-40px) translateY(10px) scale(0.9); opacity: 0.8; }

        .stem {
            width: 6px;
            height: 0;
            background: linear-gradient(to bottom, #14532d, #052e16);
            border-radius: 0 0 4px 4px;
            transition: height 1s ease;
        }

        .leaf {
            position: absolute;
            width: 30px;
            height: 15px;
            background: #166534;
            border-radius: 100% 0% 100% 0%;
            opacity: 0;
            transition: opacity 0.5s 0.8s;
        }

        .bloomed .leaf { opacity: 1; }

        /* Polaroid Floating Animation (Gentle) */
        .polaroid {
            background: white;
            padding: 12px 12px 35px 12px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            transform: rotate(-2deg);
            color: #333;
            max-width: 260px;
            animation: gentleFloat 4s ease-in-out infinite;
        }

        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(1deg); }
        }

        /* Falling Rose Game */
        .falling-rose {
            position: absolute;
            font-size: 2rem;
            cursor: pointer;
            z-index: 50;
            filter: drop-shadow(0 0 5px rgba(255,0,0,0.5));
            user-select: none;
        }

        .btn-rose {
            background: linear-gradient(45deg, #e11d48, #9f1239);
            box-shadow: 0 4px 15px rgba(225, 29, 72, 0.4);
        }
    </style>
</head>
<body>

    <!-- Section 1: The Bloom -->
    <div id="section-1" class="section active">
        <h1 class="text-3xl font-bold text-rose-300 mb-2 handwritten">For You, Siddhi</h1>
        <p class="text-rose-100/60 mb-10 text-sm">Tap the stem to see it grow</p>
        
        <div class="rose-wrapper" onclick="bloomRose()">
            <div class="rose-flower" id="flower">
                <div class="petal petal-1"></div>
                <div class="petal petal-2"></div>
                <div class="petal petal-3"></div>
                <div class="petal petal-4"></div>
                <div class="petal petal-5"></div>
            </div>
            <div class="stem" id="main-stem"></div>
            <div class="leaf" style="top: 130px; left: -25px; transform: rotate(-20deg);"></div>
            <div class="leaf" style="top: 150px; right: -25px; transform: rotate(160deg);"></div>
        </div>
        
        <button id="next-btn-1" class="hidden mt-12 btn-rose text-white font-bold py-3 px-10 rounded-full animate-pulse" onclick="showNext(2)">
            Continue âœ¨
        </button>
    </div>

    <!-- Section 2: Game -->
    <div id="section-2" class="section">
        <h2 class="text-2xl font-bold text-rose-200 mb-2">The Rose Garden</h2>
        <p class="text-xs text-rose-100/60 mb-6">Catch 10 roses to unlock your letter</p>
        <div id="score-board" class="text-3xl font-bold text-rose-500 mb-4">0 / 10</div>
        
        <div id="game-area" class="relative w-full h-80 overflow-hidden border border-rose-900/30 rounded-3xl bg-black/40">
            <!-- Game items drop here -->
        </div>
    </div>

    <!-- Section 3: Final Letter -->
    <div id="section-3" class="section">
        <div class="polaroid mb-10">
            <img src="https://lh3.googleusercontent.com/pw/AP1GczMRZb-Qu52OHPXfl2yOxBALuZa5hcXofwWg2jYorJQ9rGL8FsmZxXPCIZkTBiYeKI4lIOgitHGm4IKR2W7vP8iuovIWSV2im6vWCqRcxo-nyOhsjazMKmZ5pptxZyx0xXbiSHM-HcF9g5X2AKU3dg=w600-h800-s-no-gm?authuser=0" alt="Memory" class="w-full rounded-sm grayscale-[20%]">
            <p class="handwritten text-xl mt-4 text-center">My Favorite Rose ðŸŒ¹</p>
        </div>
        
        <div class="bg-white/10 backdrop-blur-lg p-7 rounded-3xl border border-white/10 max-w-sm mx-auto shadow-2xl">
            <h2 class="text-2xl font-bold handwritten text-rose-400 mb-3">Dearest Siddhi,</h2>
            <p class="text-sm leading-relaxed text-rose-50/90 mb-5 italic">
                They say roses are the symbol of love, but no flower in the world 
                can match the beauty of your smile. I hope these roses make you 
                feel as special as you make me feel every single day.
            </p>
            <p class="text-xl handwritten text-rose-300">Happy Rose Day, Love!</p>
            <p class="mt-4 text-[10px] opacity-40 uppercase tracking-[0.2em]">- Your Vishesh -</p>
        </div>
        
        <button class="mt-8 text-rose-500/50 text-xs" onclick="location.reload()">Reset Magic</button>
    </div>

    <script>
        function showNext(num) {
            document.querySelectorAll('.section').forEach(s => {
                s.classList.remove('active');
                setTimeout(() => s.style.display = 'none', 800);
            });
            
            setTimeout(() => {
                const nextSec = document.getElementById('section-' + num);
                nextSec.style.display = 'flex';
                setTimeout(() => nextSec.classList.add('active'), 50);
            }, 850);

            if (num === 2) startRoseGame();
        }

        // Section 1: Elegant Bloom
        function bloomRose() {
            const stem = document.getElementById('main-stem');
            const flower = document.getElementById('flower');
            const wrapper = document.querySelector('.rose-wrapper');
            
            stem.style.height = '150px';
            
            setTimeout(() => {
                wrapper.classList.add('bloomed');
                document.getElementById('next-btn-1').classList.remove('hidden');
            }, 800);
        }

        // Section 2: Game
        let score = 0;
        let gameActive = false;
        const gameArea = document.getElementById('game-area');
        const scoreBoard = document.getElementById('score-board');

        function startRoseGame() {
            gameActive = true;
            let spawnRate = 900;
            const spawn = () => {
                if (!gameActive) return;
                createFallingRose();
                setTimeout(spawn, spawnRate);
            };
            spawn();
        }

        function createFallingRose() {
            const rose = document.createElement('div');
            rose.className = 'falling-rose';
            rose.innerHTML = Math.random() > 0.3 ? 'ðŸŒ¹' : 'ðŸ¥€';
            rose.style.left = Math.random() * (gameArea.clientWidth - 40) + 'px';
            rose.style.top = '-50px';
            gameArea.appendChild(rose);

            let pos = -50;
            const speed = 2 + Math.random() * 2;
            const fall = setInterval(() => {
                pos += speed;
                rose.style.top = pos + 'px';
                if (pos > gameArea.clientHeight) {
                    clearInterval(fall);
                    rose.remove();
                }
            }, 20);

            rose.onclick = () => {
                score++;
                scoreBoard.innerText = score + ' / 10';
                clearInterval(fall);
                rose.style.transition = 'all 0.3s';
                rose.style.transform = 'scale(2) rotate(20deg)';
                rose.style.opacity = '0';
                setTimeout(() => rose.remove(), 300);

                if (score >= 10 && gameActive) {
                    gameActive = false;
                    scoreBoard.innerText = "MY ROSE â¤ï¸";
                    setTimeout(() => showNext(3), 1000);
                }
            };
        }

        // Prevent Context Menu on long press (mobile)
        window.oncontextmenu = function() { return false; }
    </script>
</body>
</html>